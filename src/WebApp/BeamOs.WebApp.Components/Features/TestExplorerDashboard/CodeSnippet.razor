<pre class="relative p-2 rounded-md"><code class="overflow-x-auto">@ChildContent</code></pre>

<style>
    pre {
        overflow-x: auto;
        padding-left: 20px;
        padding-right: 20px;
        border-radius: 0.375rem;
    }
</style>

<script type="module">
    import { codeToHtml } from 'https://esm.sh/shiki@1.7.0'

    document.querySelectorAll('pre code').forEach(async element => {
        const language = 'csharp';
        const code = await codeToHtml(element.innerText, {
            lang: 'csharp',
            theme: 'github-dark'
        });
        element.innerHTML = code
    })
</script>

@code {
    [Inject] private IJSRuntime _js { get; set; }

    [Parameter] public RenderFragment ChildContent { get; set; }
    [Parameter] public string Language { get; set; } = "csharp";

    private string id { get; }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        // await _js.InvokeVoidAsync("highlightSnippet");
        // await _js.InvokeVoidAsync("highlight");
    }
}
