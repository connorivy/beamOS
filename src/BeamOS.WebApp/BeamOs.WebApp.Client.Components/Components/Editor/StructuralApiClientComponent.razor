@using BeamOs.WebApp.Client.Components.Features.Common
@using BeamOs.WebApp.Client.Components.Features.Popovers


@if (selectedMethod == null)
{
    <BeamOsPopoverDisplayObjects IsOpen="true" Title="API Client Methods">
        <MiddleContent>
            <MudList T="string">
                @foreach (var method in methods)
                {
                    <MudListItem @onclick="() => SelectMethod(method)">
                        @method.Name
                    </MudListItem>
                }
            </MudList>
@*                 <SelectionInfoSingleItemComponent2 ObjectToDisplay="parameterValues" ObjectName=""></SelectionInfoSingleItemComponent2> *@
        </MiddleContent>
    </BeamOsPopoverDisplayObjects>
}
else
{
    <BeamOsPopoverDisplayObjects IsOpen="true" Title="@selectedMethod.Name">
        <TopContent>
            <MudButton OnClick="GoBack">Back</MudButton>
        </TopContent>
        <MiddleContent>
            <SelectionInfoSingleItemComponent2 ObjectToDisplay="parameterValues" ObjectName=""></SelectionInfoSingleItemComponent2>
        </MiddleContent>
        <BottomContent>
            <MudButton OnClick="HandleSubmit">Submit</MudButton>
        </BottomContent>
    </BeamOsPopoverDisplayObjects>
    @* <SelectionInfoSingleItemComponent2 ObjectName="asdf" ObjectToDisplay="this.parameterValues" IsReadOnly="false"></SelectionInfoSingleItemComponent2> *@
    @* <MudForm @ref="form" @onsubmit="HandleSubmit">
        @foreach (var property in parameterProperties)
        {
            <MudTextField @bind-Value="parameterValues[property.Name]" Label="@property.Name" />
        }
    </MudForm> *@
}
