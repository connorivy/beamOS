@using Microsoft.AspNetCore.Components
@using static BeamOs.WebApp.Components.Features.Identity.UserSettings.UserSettings
@inject NavigationManager NavigationManager

<MudDialog>
    <DialogContent>
        <!-- Token Name -->
        <MudTextField @bind-Value="@speckleReceiveInfo.ApiToken" Label="Api Token" Required="true" Class="mb-4" />

        <MudTextField @bind-Value="@speckleReceiveInfo.ProjectId" Label="Project Id" Required="true" Class="mb-4" />

        <MudTextField @bind-Value="@speckleReceiveInfo.ObjectId" Label="Object Id" Required="true" Class="mb-4" />

        <MudTextField @bind-Value="@speckleReceiveInfo.ServerUrl" Label="Server Url" Required="true" Class="mb-4" />
    </DialogContent>
    <DialogActions>
        <MudButton OnClick="Cancel" Color="Color.Secondary">Cancel</MudButton>
        <MudButton OnClick="Submit" Color="Color.Primary">Create</MudButton>
    </DialogActions>
</MudDialog>

@code {
    [CascadingParameter] IMudDialogInstance MudDialog { get; set; }

    public class SpeckleReceiveInfo
    {
        public string ApiToken { get; set; }
        public string ProjectId { get; set; }
        public string ObjectId { get; set; }
        public string ServerUrl { get; set; } = "https://app.speckle.systems/";
    }

    private SpeckleReceiveInfo speckleReceiveInfo = new();

    private void Cancel()
    {
        MudDialog.Cancel();
    }

    private void Submit()
    {
        MudDialog.Close(DialogResult.Ok(speckleReceiveInfo));
    }
}