@using MudBlazor

<MudDialog>
    <DialogContent>
        @if (currentStep == 0)
        {
            <MudText Typo="Typo.h6" Class="mb-4">Welcome to BeamOS!</MudText>
            <MudText Typo="Typo.body1" Class="mb-3">
                This interactive tutorial will help you learn the basics of structural analysis with BeamOS.
            </MudText>
            <MudText Typo="Typo.body1" Class="mb-3">
                You'll learn how to:
            </MudText>
            <MudList T="string" Dense="true">
                <MudListItem T="string" Icon="@Icons.Material.Filled.Check">Create nodes and elements</MudListItem>
                <MudListItem T="string" Icon="@Icons.Material.Filled.Check">Apply loads and constraints</MudListItem>
                <MudListItem T="string" Icon="@Icons.Material.Filled.Check">Run structural analysis</MudListItem>
                <MudListItem T="string" Icon="@Icons.Material.Filled.Check">View and interpret results</MudListItem>
            </MudList>
        }
        else if (currentStep == 1)
        {
            <MudText Typo="Typo.h6" Class="mb-4">Step 1: Create Nodes</MudText>
            <MudText Typo="Typo.body1" Class="mb-3">
                In this step, you'll learn how to create structural nodes in BeamOS.
            </MudText>
            @* Placeholder for GIF - will be added later *@
        }
        else if (currentStep == 2)
        {
            <MudText Typo="Typo.h6" Class="mb-4">Step 2: Create Elements</MudText>
            <MudText Typo="Typo.body1" Class="mb-3">
                Connect nodes with structural elements to build your model.
            </MudText>
            @* Placeholder for GIF - will be added later *@
        }
        else if (currentStep == 3)
        {
            <MudText Typo="Typo.h6" Class="mb-4">Step 3: Apply Loads</MudText>
            <MudText Typo="Typo.body1" Class="mb-3">
                Learn how to apply forces and moments to your structure.
            </MudText>
            @* Placeholder for GIF - will be added later *@
        }
        else if (currentStep == 4)
        {
            <MudText Typo="Typo.h6" Class="mb-4">Step 4: Apply Constraints</MudText>
            <MudText Typo="Typo.body1" Class="mb-3">
                Set up boundary conditions and support constraints.
            </MudText>
            @* Placeholder for GIF - will be added later *@
        }
        else if (currentStep == 5)
        {
            <MudText Typo="Typo.h6" Class="mb-4">Step 5: Run Analysis</MudText>
            <MudText Typo="Typo.body1" Class="mb-3">
                Execute the structural analysis and view your results.
            </MudText>
            @* Placeholder for GIF - will be added later *@
        }
        
        <MudDivider Class="mt-4 mb-2" />
        <MudText Typo="Typo.caption" Class="text-center">Step @(currentStep + 1) of 6</MudText>
    </DialogContent>
    <DialogActions>
        @if (currentStep < 5)
        {
            @if (currentStep > 0)
            {
                <MudButton OnClick="PreviousStep" Variant="Variant.Text">Back</MudButton>
            }
            <MudButton OnClick="NextStep" Color="Color.Primary" Variant="Variant.Filled">Next</MudButton>
        }
        else
        {
            <MudButton OnClick="PreviousStep" Variant="Variant.Text">Back</MudButton>
            <MudButton OnClick="Close" Color="Color.Primary" Variant="Variant.Filled">Close</MudButton>
        }
    </DialogActions>
</MudDialog>

@code {
    [CascadingParameter]
    private MudDialogInstance MudDialog { get; set; }
    
    private int currentStep = 0;
    private const int totalSteps = 6;

    private void NextStep()
    {
        if (currentStep < totalSteps - 1)
        {
            currentStep++;
        }
    }

    private void PreviousStep()
    {
        if (currentStep > 0)
        {
            currentStep--;
        }
    }

    private void Close() => MudDialog.Close();
}
